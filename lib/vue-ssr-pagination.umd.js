(function(g,h){typeof exports=="object"&&typeof module!="undefined"?h(exports):typeof define=="function"&&define.amd?define(["exports"],h):(g=typeof globalThis!="undefined"?globalThis:g||self,h(g["vue-ssr-pagination"]={}))})(this,function(g){"use strict";function h(t){if(m(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],s=p(i)?T(i):h(i);if(s)for(const l in s)e[l]=s[l]}return e}else{if(p(t))return t;if(C(t))return t}}const I=/;(?![^(]*\))/g,O=/:(.+)/;function T(t){const e={};return t.split(I).forEach(n=>{if(n){const i=n.split(O);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function b(t){let e="";if(p(t))e=t;else if(m(t))for(let n=0;n<t.length;n++){const i=b(t[n]);i&&(e+=i+" ")}else if(C(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const V=/^on[^a-z]/,j=t=>V.test(t),k=Object.assign,m=Array.isArray,y=t=>typeof t=="function",p=t=>typeof t=="string",C=t=>t!==null&&typeof t=="object";function M(t){return F(t)?M(t.__v_raw):!!(t&&t.__v_isReactive)}function F(t){return!!(t&&t.__v_isReadonly)}function $(t){return M(t)||F(t)}function z(t){return!!(t&&t.__v_isRef===!0)}let _=null,v=null;const A=t=>t.__isSuspense;function D(t){return y(t)?{setup:t,name:t.name}:t}const E=Symbol(),q=t=>t.__isTeleport,S=Symbol(void 0),Q=Symbol(void 0),J=Symbol(void 0);let d=null;function K(t){return t?t.__v_isVNode===!0:!1}const B="__vInternal",R=({key:t})=>t!=null?t:null,P=({ref:t,ref_key:e,ref_for:n})=>t!=null?p(t)||z(t)||y(t)?{i:_,r:t,k:e,f:!!n}:t:null;function L(t,e=null,n=null,i=0,s=null,l=t===S?0:1,o=!1,a=!1){const r={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&R(e),ref:e&&P(e),scopeId:v,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:i,dynamicProps:s,dynamicChildren:null,appContext:null};return a?(N(r,n),l&128&&t.normalize(r)):n&&(r.shapeFlag|=p(n)?8:16),!o&&d&&(r.patchFlag>0||l&6)&&r.patchFlag!==32&&d.push(r),r}const u=U;function U(t,e=null,n=null,i=0,s=null,l=!1){if((!t||t===E)&&(t=J),K(t)){const a=x(t,e,!0);return n&&N(a,n),!l&&d&&(a.shapeFlag&6?d[d.indexOf(t)]=a:d.push(a)),a.patchFlag|=-2,a}if(H(t)&&(t=t.__vccOpts),e){e=Y(e);let{class:a,style:r}=e;a&&!p(a)&&(e.class=b(a)),C(r)&&($(r)&&!m(r)&&(r=k({},r)),e.style=h(r))}const o=p(t)?1:A(t)?128:q(t)?64:C(t)?4:y(t)?2:0;return L(t,e,n,i,s,o,l,!0)}function Y(t){return t?$(t)||B in t?k({},t):t:null}function x(t,e,n=!1){const{props:i,ref:s,patchFlag:l,children:o}=t,a=e?G(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&R(a),ref:e&&e.ref?n&&s?m(s)?s.concat(P(e)):[s,P(e)]:P(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==S?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&x(t.ssContent),ssFallback:t.ssFallback&&x(t.ssFallback),el:t.el,anchor:t.anchor}}function c(t=" ",e=0){return u(Q,null,t,e)}function N(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(m(e))n=16;else if(typeof e=="object")if(i&65){const s=e.default;s&&(s._c&&(s._d=!1),N(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(B in e)?e._ctx=_:s===3&&_&&(_.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else y(e)?(e={default:e,_ctx:_},n=32):(e=String(e),i&64?(n=16,e=[c(e)]):n=8);t.children=e,t.shapeFlag|=n}function G(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const s in i)if(s==="class")e.class!==i.class&&(e.class=b([e.class,i.class]));else if(s==="style")e.style=h([e.style,i.style]);else if(j(s)){const l=e[s],o=i[s];o&&l!==o&&!(m(l)&&l.includes(o))&&(e[s]=l?[].concat(l,o):o)}else s!==""&&(e[s]=i[s])}return e}function H(t){return y(t)&&"__vccOpts"in t}var W=D({props:{total:{type:Number,default:0},pageSize:{type:Number,default:10},currentPage:{type:Number,default:1},pagerCount:{type:Number,default:5},pathPrefix:{type:String,default:"/"},pageQueryName:{type:String,default:"page"},queryMode:{type:Number,default:2},layout:{type:String,default:"prev, pager, next, jumper, ->, total"},prevBtnClassName:{type:String,default:""},prevBtnText:{type:String,default:"\u4E0A\u4E00\u9875"},nextBtnClassName:{type:String,default:""},nextBtnText:{type:String,default:"\u4E0B\u4E00\u9875"},background:{type:Boolean,default:!0},small:{type:Boolean,default:!1}},data(){return{isShowPrevMore:!1,isShowNextMore:!1}},computed:{totalPage(){const t=Math.ceil(this.total/this.pageSize);return t||1},layoutComputed(){let t=this.layout.split(",");return t=t.map(e=>e.trim()).filter(e=>e),t},pathPrefixComputed(){let t=this.pathPrefix;return this.queryMode===2?t.includes("?")?t+=`&${this.pageQueryName}=`:t+=`?${this.pageQueryName}=`:this.queryMode===1&&t.substring(t.length-1,1)!=="/"&&(t+="/"),t},pagers(){const t=this.pagerCount,e=(t-1)/2,n=Number(this.currentPage),i=Number(this.totalPage);let s=!1,l=!1;i>t&&(n>t-e&&(s=!0),n<i-e&&(l=!0));const o=[];if(s&&!l){const a=i-(t-2);for(let r=a;r<i;r++)o.push(r)}else if(!s&&l)for(let a=2;a<t;a++)o.push(a);else if(s&&l){const a=Math.floor(t/2)-1;for(let r=n-a;r<=n+a;r++)o.push(r)}else for(let a=2;a<i;a++)o.push(a);return this.isShowPrevMore=s,this.isShowNextMore=l,o}},methods:{handleChangePage(t,e){e&&(e.preventDefault(),e.stopPropagation()),this.currentPage!==t&&(this.$emit("update:currentPage",t),this.$emit("currentChange",{page:t,path:this.pathPrefixComputed+t}))},handleShowMoreClick(t){let e=this.currentPage;const n=this.pagerCount-2;t===-1?e=this.currentPage-n:e=this.currentPage+n,this.handleChangePage(e,null)},handleJumperChange(t){const e=this.totalPage,n=Number(t.target.value);if(n>e)return t.target.value=e,this.handleChangePage(e,null),!1;if(n<1)return t.target.value=1,this.handleChangePage(1,null),!1;this.handleChangePage(n,null)}},render(){const t=new Map,e=u("a",{onClick:a=>{this.handleChangePage(this.currentPage-1>=1?this.currentPage-1:1,a)},href:`${this.pathPrefixComputed}${this.currentPage-1>=1?this.currentPage-1:1}`,class:`yo-pagination-btn yo-pagination-btn-pre ${this.prevBtnClassName} ${this.currentPage<=1?"disabled":""}`},[this.prevBtnText]),n=u("a",{onClick:a=>{this.handleChangePage(this.currentPage+1>this.totalPage?this.totalPage:this.currentPage+1,a)},href:"",class:`yo-pagination-btn yo-pagination-btn-next ${this.nextBtnClassName} ${this.currentPage>=this.totalPage?"disabled":""}`},[this.nextBtnText]),i=u("div",{class:"yo-total"},[c("\u5171 "),u("span",{class:"yo-total-num"},[this.total]),c(" \u6761")]),s=u("div",{class:"yo-jumper"},[c("\u524D\u5F80"),u("input",{value:this.currentPage,onBlur:a=>{this.handleJumperChange(a)},type:"number",class:"yo-input"},null),c("\u9875")]),l=()=>{if(!this.total)return"";const a=[],r=this.pagers.map(f=>u("a",{href:`${this.pathPrefixComputed}${f}`,class:`yo-pagination-btn ${this.currentPage===f?"active":""}`,onClick:et=>{this.handleChangePage(f,et)}},[f]));return this.isShowPrevMore&&a.push(u("div",{onClick:()=>{this.handleShowMoreClick(-1)},class:"yo-pagination-btn yo-pagination-btn-more"},[c("\xB7\xB7\xB7")])),r&&r.length&&a.push(...r),this.isShowNextMore&&a.push(u("div",{onClick:()=>{this.handleShowMoreClick(1)},class:"yo-pagination-btn yo-pagination-btn-more"},[c("\xB7\xB7\xB7")])),u(S,null,[u("a",{onClick:f=>{this.handleChangePage(1,f)},href:`${this.pathPrefixComputed}1`,class:`yo-pagination-btn ${this.currentPage===1?"active":""}`},[c("1")]),a,u("a",{onClick:f=>{this.handleChangePage(this.totalPage,f)},href:`${this.pathPrefixComputed}1`,class:`yo-pagination-btn ${this.currentPage===this.totalPage?"active":""}`},[this.totalPage])])};t.set("prev",e),t.set("next",n),t.set("total",i),t.set("jumper",s),t.set("pager",l()),t.set("->",u("div",{class:"yo-pagination-space "},null));const o=this.layoutComputed.map(a=>t.get(a));return u("div",{class:`yo-pagination ${this.background?"yo-pagination-background":""} ${this.small?"yo-pagination-small":""}`},[o])}}),nt="",X=(t,e)=>{const n=t.__vccOpts||t;for(const[i,s]of e)n[i]=s;return n},w=X(W,[["__scopeId","data-v-3b3b5cff"]]);const Z=w;var tt={install(t){t.component("VueSSRPagination",w)}};g.VueSSRPagination=Z,g.default=tt,Object.defineProperties(g,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
